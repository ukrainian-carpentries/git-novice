---
title: Автоматизований контроль версій
teaching: 5
exercises: 0
---

::::::::::::::::::::::::::::::::::::::: objectives

- Зрозуміти переваги автоматизованої системи контролю версій.
- Зрозуміти основи функціонування автоматизованих систем контролю версій.

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: questions

- Що таке контроль версій і навіщо його використовувати?

::::::::::::::::::::::::::::::::::::::::::::::::::

Ми почнемо з розгляду того, як контроль версій може бути використаний для відстеження того, що і коли зробив один користувач.
Навіть якщо ви не співпрацюєте з іншими людьми, автоматизований контроль версій набагато краще, ніж ця ситуація:

!["notFinal.doc" Хорхе Чам, https://www.phdcomics.com](fig/phd101212s.png){alt='Comic: аспірант надсилає «FINAL.doc» своєму науковому керівнику. Декілька дедалі інтенсивніших та неприємних раундів обміну коментарями і версіями закінчуються файлом під назвою "FINAL_rev.22.comments49.corrections.10.#@$%HYDIDCOMETOGRADSCHOOL????.doc"'}

Ми всі були в цій ситуації раніше: здається непотрібним мати кілька майже ідентичних версій одного документа. Деякі текстові процесори дозволяють нам впоратися з цим трохи краще, наприклад, Microsoft Word може [відстежувати зміни](https://support.office.com/en-us/article/Track-changes-in-Word-197ba630-0f5f-4a8e-9a77-3712475e806a), Google Docs підтримує [історію версій](https://support.google.com/docs/answer/190843?hl=en), а LibreOffice - [запис та відображення змін](https://help.libreoffice.org/Common/Recording_and_Displaying_Changes).

Системи управління версіями починають зі зберігання базової (тобто початкової) версії документа, а потім записують зміни, які ви робите на кожному етапі редагування. Ви можете думати про це як про запис вашого прогресу: ви можете перемотати його назад, щоб почати з базової версії документу та відтворити кожну внесену вами зміну, в кінцевому підсумку прийшовши до вашої більш пізньої версії.

![](fig/play-changes.svg){alt='Зміни зберігаються у послідовності'}

Якщо ви будете розглядати зміни, як щось окреме від самого документу, ви можете уявити собі процес «відтворення» різних наборів змін на базовому документі, який, зрештою, призведе до різних версій цього документа. Наприклад, два користувачі можуть робити незалежні набори змін в одному документі.

![](fig/versions.svg){alt='Різні версії можна зберегти'}

Якщо немає [конфліктів](../learners/reference.md#conflict), тобто немає ситуації, коли декілька користувачів вносять зміни до одного й того ж розділу документа, то буде можливо включити два набори змін до одного базового документа.

![](fig/merge.svg){alt='Різні версії можна обʼєднати'}

Система управління версіями - це інструмент, який відстежує ці зміни для нас, по суті створюючи різні версії наших файлів. Це дозволяє нам вирішити, які зміни будуть внесені до наступної версії (кожен запис цих змін називається [коміт (commit)](../learners/reference.md#commit)), і зберігає корисні метадані про зміни. Повна історія комітів для конкретного проєкту та їх метадані складають [репозиторій (repository)](../learners/reference.md#repository).
Репозиторії, які знаходяться на різних комп'ютерах, можуть бути синхронізовані, що сприяє співпраці між різними людьми.

:::::::::::::::::::::::::::::::::::::::::  callout

## Давня історія систем управління версіями

Автоматизовані системи управління версіями не є чимось новим.
Інструменти, такі як [RCS](https://en.wikipedia.org/wiki/Revision_Control_System), [CVS](https://en.wikipedia.org/wiki/Concurrent_Versions_System), або [Subversion](https://en.wikipedia.org/wiki/Apache_Subversion) існують з початку 1980-х років і використовуються багатьма великими компаніями.
Однак багато з них зараз вважаються застарілими системами через різні обмеження у своїх можливостях.
Більш сучасні системи, такі як Git та [Mercurial](https://swcarpentry.github.io/hg-novice/), є розподіленими , що означає, що їм не потрібен централізований сервер для розміщення репозиторію.
Ці сучасні системи також включають потужні інструменти злиття змін (merging), які дозволяють багатьом авторам працювати над одними й тими ж файлами одночасно.

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::  challenge

## Написання статті

- Уявіть, що ви склали чудовий абзац для статті, яку ви пишете, але пізніше ви зіпсували його. Як би ви відродили попередню чудову версію вашого висновку? Чи можливо це взагалі?

- Уявіть, що у вас є 5 співавторів. Як би ви відстежували зміни та коментарі, які вони вносять до вашої статті?  Якщо ви використовуєте LibreOffice Writer або Microsoft Word, що станеться, якщо ви приймете зміни, внесені за допомогою опції `Відстежувати зміни` ("Track Changes")? Чи будете ви мати історію цих змін?

:::::::::::::::  solution

## Рішення

- Відновити чудову версію можливо тільки якщо ви створили копію старої версії статті. Ризик втрати хороших версій часто призводить до проблемного робочого процесу, проілюстрованого у коміксі з PhD Comics на початку цієї сторінки.

- Спільна робота над документами за допомогою традиційних текстових процесорів є громіздкою.
  Або кожен співробітник повинен працювати над документом послідовно (сповільнюючи процес написання), або ви повинні відправляти нову версію всім співробітникам і вручну додавати їх коментарі у документ. Режими 'відстеження змін' ('track changes') або 'запису змін' ('record changes') можуть зробити зміни більш помітними та спростити їх додавання, але як тільки ви погоджуєтесь прийняти зміни, ви втрачаєте їх історію. Після цього ви більше не будете знати хто запропонував цю зміну, чому вона була запропонована, або коли вона була додана до документа. Навіть текстові онлайн-процесори, такі як Google Docs або Microsoft Office Online, не вирішують повністю ці проблеми.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: keypoints

- Контроль версій схожий на необмежене «undo».
- Контроль версій також дозволяє багатьом людям працювати паралельно.

::::::::::::::::::::::::::::::::::::::::::::::::::
